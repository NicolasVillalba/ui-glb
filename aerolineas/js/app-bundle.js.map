{"version":3,"sources":["webpack:///webpack/bootstrap a08044ba602aceeb6c63","webpack:///./aerolineas/js/components/promos/Promo.js","webpack:///./aerolineas/js/components/promos/PromoView.js","webpack:///./aerolineas/js/app.js","webpack:///./aerolineas/js/components/GenericModel.js","webpack:///./aerolineas/js/load-template.js"],"names":["Promo","attributes","initialize","apply","arguments","prototype","PromoView","model","$el","document","querySelector","el","console","log","render","Array","forEach","e","appendChild","template","data","field","container","createElement","setAttribute","image","then","tpl","replace","match","token","innerHTML","catch","error","promo","shortpromo","promoView","GenericModel","get","attribute","set","value","toString","result","String","LoadTemplate","url","Promise","resolve","reject","rq","XMLHttpRequest","open","onload","status","response","onerror","Error","send"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;;;;AChEA;;AACA;;;;;;;AAOO,IAAIA,wBAAQ,SAARA,KAAQ,CAASC,UAAT,EAAqB;AACpC,OAAKA,UAAL,GAAkBA,UAAlB;AACA,OAAKC,UAAL,CAAgBC,KAAhB,CAAsB,IAAtB,EAA4BC,SAA5B;AACH,CAHM;;AAKPJ,MAAMK,SAAN,GAAkB,2BAAaA,SAA/B;;AAEA;;;AAGAL,MAAMK,SAAN,CAAgBH,UAAhB,GAA6B,YAAW;AACpC;AACH,CAFD,C;;;;;;;;;;;;;;;;AClBA;;AACA;;;;;;;;AAQO,IAAII,gCAAY,SAAZA,SAAY,CAASL,UAAT,EAAqB;AACxC,SAAKM,KAAL,GAAaN,WAAWM,KAAxB;AACA,SAAKC,GAAL,GAAWC,SAASC,aAAT,CAAuBT,WAAWU,EAAlC,CAAX;AACH,CAHM;;AAKP;;;;AAIAL,UAAUD,SAAV,CAAoBH,UAApB,GAAiC,YAAW;AACxCU,YAAQC,GAAR,CAAY,uCAAZ,EAAqDT,SAArD;AACH,CAFD;;AAIA;;;;AAIAE,UAAUD,SAAV,CAAoBS,MAApB,GAA6B,YAAW;AAAA;;AACpCF,YAAQC,GAAR,SAAmB,KAAKN,KAAxB;AACA,QAAG,KAAKA,KAAL,YAAsBQ,KAAzB,EAA+B;;AAE3B,aAAKR,KAAL,CAAWS,OAAX,CAAmB,UAACC,CAAD,EAAO;AACtB,kBAAKT,GAAL,CAASU,WAAT,CAAqB,MAAKC,QAAL,CAAcF,CAAd,CAArB;AACH,SAFD;AAGH,KALD,MAKM;AACF,aAAKT,GAAL,CAASU,WAAT,CAAqB,KAAKC,QAAL,CAAc,KAAKZ,KAAnB,CAArB;AACH;AAEJ,CAXD;;AAaA;;;AAGAD,UAAUD,SAAV,CAAoBc,QAApB,GAA+B,UAASZ,KAAT,EAAgB;;AAE3C,QAAIa,OAAO,EAAX;;AAEA,SAAI,IAAIC,KAAR,IAAiBd,MAAMN,UAAvB,EAAkC;AAC9BmB,aAAKC,KAAL,IAAcd,MAAMN,UAAN,CAAiBoB,KAAjB,CAAd;AACH;;AAED,QAAIC,YAAYb,SAASc,aAAT,CAAuB,KAAvB,CAAhB;;AAEAD,cAAUE,YAAV,CAAuB,OAAvB,EAAgCJ,KAAKK,KAAL,GAAY,eAAZ,GAA4B,mCAA5D;;AAEA,oCAAaL,KAAKK,KAAL,GAAa,0CAAb,GAA0D,gDAAvE,EACKC,IADL,CACU,UAACC,GAAD;AAAA,eAASA,IAAIC,OAAJ,CAAY,cAAZ,EAA4B,UAASC,KAAT,EAAgBC,KAAhB,EAAuB;AAC9D,mBAAOV,KAAKU,KAAL,CAAP;AACH,SAFc,CAAT;AAAA,KADV,EAIKJ,IAJL,CAIU,UAACC,GAAD;AAAA,eAASL,UAAUS,SAAV,GAAsBJ,GAA/B;AAAA,KAJV,EAKKK,KALL,CAKW,UAACC,KAAD;AAAA,eAAWrB,QAAQC,GAAR,CAAYoB,KAAZ,CAAX;AAAA,KALX;;AAOA,WAAOX,SAAP;AACH,CApBD,C;;;;;;;;;ACzCA;;AACA;;AAEA;AAJA;AAKA,IAAIY,QAAQ;AACR,aAAQ,kBADA;AAER,mBAAe,kEAFP;AAGR,cAAU,cAHF;AAIR,mBAAe,aAJP;AAKR,aAAS,IALD;AAMR,eAAU,+DANF;AAOR,gBAAY,KAPJ;AAQR,sBAAkB;AARV,CAAZ;;AAWA,IAAIC,aAAa;AACb,cAAU,cADG;AAEb,mBAAe,aAFF;AAGb,aAAS,IAHI;AAIb,eAAU,+DAJG;AAKb,gBAAY,KALC;AAMb,sBAAkB;AANL,CAAjB;;AASA;AACA,IAAIC,YAAY,yBAAc;AAC1BzB,QAAI,SADsB;AAE1BJ,WAAO,CAAC,iBAAU4B,UAAV,CAAD,EAAwB,iBAAUD,KAAV,CAAxB;AAFmB,CAAd,CAAhB;;AAKA;AACAE,UAAUtB,MAAV,G;;;;;;;;;;;;AChCA;;;;AAIO,IAAIuB,sCAAe,SAAfA,YAAe,GAAY,CACrC,CADM;;AAGPA,aAAahC,SAAb,GAAyB;;AAErB;;;AAGAiC,SAAK,aAASC,SAAT,EAAoB;AACrB,eAAO,KAAKtC,UAAL,CAAgBsC,SAAhB,CAAP;AACH,KAPoB;;AASrB;;;AAGAC,SAAK,aAASD,SAAT,EAAoBE,KAApB,EAA2B;AAC5B,aAAKxC,UAAL,CAAgBsC,SAAhB,IAA6BE,SAAS,EAAtC;AACH,KAdoB;;AAgBrB;;;;AAIAC,cAAU,oBAAY;AAClB,YAAIC,SAAS,EAAb;AACA,aAAI,IAAI1C,UAAR,IAAsB,KAAKA,UAA3B,EAAsC;AAClC0C,sBAAUC,OAAO,KAAK3C,UAAL,CAAgBA,UAAhB,CAAP,CAAV;AACH;AACD,eAAO0C,MAAP;AACH;;AA1BoB,CAAzB,C;;;;;;;;;;;;QCJgBE,Y,GAAAA,Y;AAHhB;;;AAGO,SAASA,YAAT,CAAsBC,GAAtB,EAA2B;AAC9B,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;;AAEpC,YAAIC,KAAK,IAAIC,cAAJ,EAAT;;AAEAD,WAAGE,IAAH,CAAQ,KAAR,EAAeN,GAAf,EAAoB,IAApB;;AAEAI,WAAGG,MAAH,GAAY,YAAY;AACpB,gBAAGH,GAAGI,MAAH,IAAa,GAAhB,EACIN,QAAQE,GAAGK,QAAX,EADJ,KAGIN,OAAO,sBAAP;AACP,SALD;;AAOAC,WAAGM,OAAH,GAAa,YAAY;AACrBP,mBAAOQ,MAAM,OAAN,CAAP;AACH,SAFD;AAGAP,WAAGQ,IAAH;AACH,KAjBM,CAAP;AAkBH,E","file":"app-bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a08044ba602aceeb6c63","import { GenericModel } from '../GenericModel';\n/**\n * promos class: This class is in charge to manage the attributes for a promos\n * This class is the same as a pojo in JAVA, a poco in C#, etc\n * This class must not have binding to the UI\n * The view or UI component use this to store data, manage state, etc.\n * @param {object} attributes\n */\nexport var Promo = function(attributes) {\n    this.attributes = attributes;\n    this.initialize.apply(this, arguments);\n};\n\nPromo.prototype = GenericModel.prototype;\n\n/**\n * This method is an example about calling a metho with apply in a constructor\n */\nPromo.prototype.initialize = function() {\n    //console.log(\"initializing model promos with data\", arguments);\n};\n\n\n// WEBPACK FOOTER //\n// ./aerolineas/js/components/promos/Promo.js","import { LoadTemplate } from '../../load-template';\n/**\n * PromoView class\n * Handles Rendering, events and different stuff of a UI Component\n * This class is the glue between a model and the DOM\n * This class should only manage user interactions, and updates a model, \n * without applying business logic\n * @param {object} attributes \n */\nexport let PromoView = function(attributes) {\n    this.model = attributes.model;\n    this.$el = document.querySelector(attributes.el);\n};\n\n/**\n * This method is an example about calling a metho with apply in a constructor\n * In this case, we can use it as a event binding.\n */\nPromoView.prototype.initialize = function() {\n    console.log(\"initializing View PromoView with data\", arguments);\n};\n\n/**\n * Render method, given a template, renders a Component content\n * This can be as complex as you want\n */\nPromoView.prototype.render = function() {\n    console.log(typeof this.model);\n    if(this.model instanceof Array){\n\n        this.model.forEach((e) => {\n            this.$el.appendChild(this.template(e));\n        })\n    }else {\n        this.$el.appendChild(this.template(this.model));\n    }\n\n};\n\n/**\n * Builds a template from layout, attaching model to its container\n */\nPromoView.prototype.template = function(model) {\n\n    let data = {};\n\n    for(let field in model.attributes){\n        data[field] = model.attributes[field];\n    }\n\n    let container = document.createElement('div');\n\n    container.setAttribute('class', data.image ?'promo-content':'short-promo-content promo-content');\n\n    LoadTemplate(data.image ? './js/components/promos/layouts/promo.tpl' : './js/components/promos/layouts/short-promo.tpl')\n        .then((tpl) => tpl.replace(/{{ (.*?) }}/g, function(match, token) {\n            return data[token];\n        }))\n        .then((tpl) => container.innerHTML = tpl)\n        .catch((error) => console.log(error));\n\n    return container;\n};\n\n\n// WEBPACK FOOTER //\n// ./aerolineas/js/components/promos/PromoView.js","//ES6 imports\nimport { Promo } from './components/promos/Promo';\nimport { PromoView } from './components/promos/PromoView';\n\n//This the data I will fill the model\nvar promo = {\n    \"image\":\"img/calafate.jpg\",\n    \"description\": \"Llegá volando a El Calafate. Más rápido, más cómodo, más cuotas.\",\n    \"origin\": \"Buenos Aires\",\n    \"destination\": \"El Calafate\",\n    \"price\": 1200,\n    \"payment\":\"/es-ar/reservasservicios/vuelo/139_buenos-aires-mar-del-plata\",\n    \"currency\": \"ARS\",\n    \"currencySymbol\": \"$\"\n};\n\nvar shortpromo = {\n    \"origin\": \"Buenos Aires\",\n    \"destination\": \"El Calafate\",\n    \"price\": 1200,\n    \"payment\":\"/es-ar/reservasservicios/vuelo/139_buenos-aires-mar-del-plata\",\n    \"currency\": \"ARS\",\n    \"currencySymbol\": \"$\"\n};\n\n// Creating view to render\nvar promoView = new PromoView({\n    el: '#promos',\n    model: [new Promo(shortpromo), new Promo(promo)]\n});\n\n//As I set attributes to the view I just render its content\npromoView.render();\n\n\n// WEBPACK FOOTER //\n// ./aerolineas/js/app.js","/**\n * Created by nico on 26/04/17.\n */\n\nexport let GenericModel = function () {\n};\n\nGenericModel.prototype = {\n\n    /**\n     * Setter method\n     */\n    get: function(attribute) {\n        return this.attributes[attribute];\n    },\n\n    /**\n     * Getter method\n     */\n    set: function(attribute, value) {\n        this.attributes[attribute] = value || '';\n    },\n\n    /**\n     * To String method\n     * @returns {string}\n     */\n    toString: function () {\n        let result = '';\n        for(let attributes in this.attributes){\n            result += String(this.attributes[attributes]);\n        }\n        return result;\n    }\n\n};\n\n\n// WEBPACK FOOTER //\n// ./aerolineas/js/components/GenericModel.js","/**\n * Created by nico on 09/05/17.\n */\nexport function LoadTemplate(url) {\n    return new Promise((resolve, reject) => {\n\n        let rq = new XMLHttpRequest();\n\n        rq.open('get', url, true);\n\n        rq.onload = function () {\n            if(rq.status == 200)\n                resolve(rq.response);\n            else\n                reject(\"Error loading page\\n\");\n        };\n\n        rq.onerror = function () {\n            reject(Error('Error'))\n        };\n        rq.send();\n    });\n};\n\n\n// WEBPACK FOOTER //\n// ./aerolineas/js/load-template.js"],"sourceRoot":""}