{"version":3,"sources":["webpack:///webpack/bootstrap fe61ea26cab402af77b6","webpack:///./aerolineas/js/components/promos/Promo.js","webpack:///./aerolineas/js/components/promos/PromoView.js","webpack:///./aerolineas/js/app.js","webpack:///./aerolineas/js/components/GenericModel.js","webpack:///./aerolineas/js/load-template.js"],"names":["Promo","attributes","initialize","apply","arguments","prototype","GenericModel","PromoView","model","$el","document","querySelector","el","console","log","render","appendChild","template","data","field","container","createElement","setAttribute","image","LoadTemplate","then","tpl","replace","match","token","innerHTML","catch","error","promo","shortpromo","promoView","get","attribute","set","value","toString","result","String","url","Promise","resolve","reject","rq","XMLHttpRequest","open","onload","status","response","onerror","Error","send"],"mappings":"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","file":"app-bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap fe61ea26cab402af77b6","import { GenericModel } from '../GenericModel';\n/**\n * Promo class: This class is in charge to manage the attributes for a Promo\n * This class is the same as a pojo in JAVA, a poco in C#, etc\n * This class must not have binding to the UI\n * The view or UI component use this to store data, manage state, etc.\n * @param {object} attributes\n */\nexport var Promo = function(attributes) {\n    this.attributes = attributes;\n    this.initialize.apply(this, arguments);\n};\n\nPromo.prototype = GenericModel.prototype;\n\n/**\n * This method is an example about calling a metho with apply in a constructor\n */\nPromo.prototype.initialize = function() {\n    //console.log(\"initializing model Promo with data\", arguments);\n};\n\n\n// WEBPACK FOOTER //\n// ./aerolineas/js/components/promos/Promo.js","import { LoadTemplate } from '../../load-template';\n/**\n * PromoView class\n * Handles Rendering, events and different stuff of a UI Component\n * This class is the glue between a model and the DOM\n * This class should only manage user interactions, and updates a model, \n * without applying business logic\n * @param {object} attributes \n */\nexport let PromoView = function(attributes) {\n    this.model = attributes.model;\n    this.$el = document.querySelector(attributes.el);\n};\n\n/**\n * This method is an example about calling a metho with apply in a constructor\n * In this case, we can use it as a event binding.\n */\nPromoView.prototype.initialize = function() {\n    console.log(\"initializing View PromoView with data\", arguments);\n};\n\n/**\n * Render method, given a template, renders a Component content\n * This can be as complex as you want\n */\nPromoView.prototype.render = function() {\n\n    this.$el.appendChild(this.template());\n\n};\n\n/**\n * Builds a template from layout, attaching model to its container\n */\nPromoView.prototype.template = function() {\n\n    let data = {};\n\n    for(let field in this.model.attributes){\n        data[field] = this.model.attributes[field];\n    }\n\n    let container = document.createElement('div');\n\n    container.setAttribute('class', data.image ?'promo-content':'short-promo-content promo-content');\n\n    LoadTemplate(data.image ? './js/components/promos/layouts/promo.tpl' : './js/components/promos/layouts/short-promo.tpl')\n        .then((tpl) => tpl.replace(/{{ (.*?) }}/g, function(match, token) {\n            return data[token];\n        }))\n        .then((tpl) => container.innerHTML = tpl)\n        .catch((error) => console.log(error));\n\n    return container;\n};\n\n\n// WEBPACK FOOTER //\n// ./aerolineas/js/components/promos/PromoView.js","//app.js\n\n//imports ES6\nimport { Promo } from './components/promos/Promo';\nimport { PromoView } from './components/promos/PromoView';\n\n//This the data I will fill the model\nvar promo = {\n    \"image\":\"img/calafate.jpg\",\n    \"description\": \"Llegá volando a El Calafate. Más rápido, más cómodo, más cuotas.\",\n    \"origin\": \"Buenos Aires\",\n    \"destination\": \"El Calafate\",\n    \"price\": 1200,\n    \"payment\":\"/es-ar/reservasservicios/vuelo/139_buenos-aires-mar-del-plata\",\n    \"currency\": \"ARS\",\n    \"currencySymbol\": \"$\"\n};\n\nvar shortpromo = {\n    \"origin\": \"Buenos Aires\",\n    \"destination\": \"El Calafate\",\n    \"price\": 1200,\n    \"payment\":\"/es-ar/reservasservicios/vuelo/139_buenos-aires-mar-del-plata\",\n    \"currency\": \"ARS\",\n    \"currencySymbol\": \"$\"\n};\n\n// Creating view to render\nvar promoView = new PromoView({\n    el: '#promos',\n    model: new Promo(promo)\n});\n\n//As I set attributes to the view I just render its content\npromoView.render();\n\n\n// WEBPACK FOOTER //\n// ./aerolineas/js/app.js","/**\n * Created by nico on 26/04/17.\n */\n\n\nexport let GenericModel = function () {\n};\n\nGenericModel.prototype = {\n\n    /**\n     * Setter method\n     */\n    get: function(attribute) {\n        return this.attributes[attribute];\n    },\n\n    /**\n     * Getter method\n     */\n    set: function(attribute, value) {\n        this.attributes[attribute] = value || '';\n    },\n\n    /**\n     * To String method\n     * @returns {string}\n     */\n    toString: function () {\n        let result = '';\n        for(let attributes in this.attributes){\n            result += String(this.attributes[attributes]);\n        }\n        return result;\n    }\n\n};\n\n\n// WEBPACK FOOTER //\n// ./aerolineas/js/components/GenericModel.js","/**\n * Created by nico on 09/05/17.\n */\nexport function LoadTemplate(url) {\n    return new Promise((resolve, reject) => {\n\n        let rq = new XMLHttpRequest();\n\n        rq.open('get', url, true);\n\n        rq.onload = function () {\n            if(rq.status == 200)\n                resolve(rq.response);\n            else\n                reject(\"Error loading page\\n\");\n        };\n\n        rq.onerror = function () {\n            reject(Error('Error'))\n        };\n        rq.send();\n    });\n};\n\n\n// WEBPACK FOOTER //\n// ./aerolineas/js/load-template.js"],"sourceRoot":""}